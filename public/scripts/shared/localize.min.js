(function(){"use strict";angular.module("app.localization",[]).factory("localize",["$http","$rootScope","$window",function(n,t,i){var r;return r={language:"",url:void 0,resourceFileLoaded:!1,successCallback:function(n){return r.dictionary=n,r.resourceFileLoaded=!0,t.$broadcast("localizeResourcesUpdated")},setLanguage:function(n){return r.language=n.toLowerCase().split("-")[0],r.initLocalizedResources()},setUrl:function(n){return r.url=n,r.initLocalizedResources()},buildUrl:function(){return r.language||(r.language=(i.navigator.userLanguage||i.navigator.language).toLowerCase(),r.language=r.language.split("-")[0]),"i18n/resources-locale_"+r.language+".js"},initLocalizedResources:function(){var i;return i=r.url||r.buildUrl(),n({method:"GET",url:i,cache:!1}).success(r.successCallback).error(function(){return t.$broadcast("localizeResourcesUpdated")})},getLocalizedString:function(n){var t,i;return t=void 0,r.dictionary&&n?(i=n.toLowerCase(),t=r.dictionary[i]===""?n:r.dictionary[i]):t=n,t}}}]).directive("i18n",["localize",function(n){var t;return t={restrict:"EA",updateText:function(t,i,r){var u;return(u=void 0,i==="i18n-placeholder")?(u=n.getLocalizedString(r),t.attr("placeholder",u)):i.length>=1?(u=n.getLocalizedString(i),t.text(u)):void 0},link:function(n,i,r){return n.$on("localizeResourcesUpdated",function(){return t.updateText(i,r.i18n,r.placeholder)}),r.$observe("i18n",function(n){return t.updateText(i,n,r.placeholder)})}}}]).controller("LangCtrl",["$scope","localize",function(n,t){return n.lang="English",n.setLang=function(i){switch(i){case"English":t.setLanguage("EN-US");break;case"Español":t.setLanguage("ES-ES");break;case"日本語":t.setLanguage("JA-JP");break;case"中文":t.setLanguage("ZH-TW");break;case"Deutsch":t.setLanguage("DE-DE");break;case"français":t.setLanguage("FR-FR");break;case"Italiano":t.setLanguage("IT-IT");break;case"Portugal":t.setLanguage("PT-BR");break;case"Русский язык":t.setLanguage("RU-RU");break;case"한국어":t.setLanguage("KO-KR")}return n.lang=i},n.getFlag=function(){var t=n.lang;switch(t){case"English":return"flags-american";case"Español":return"flags-spain";case"日本語":return"flags-japan";case"中文":return"flags-china";case"Deutsch":return"flags-germany";case"français":return"flags-france";case"Italiano":return"flags-italy";case"Portugal":return"flags-portugal";case"Русский язык":return"flags-russia";case"한국어":return"flags-korea"}}}])}).call(this);
/*
//# sourceMappingURL=localize.min.js.map
*/