<div class="page modal-user">
    <section>
        <form class="form-horizontal" name="userForm" role="form" novalidate data-ng-submit="(user.id || user.password) && userForm.$valid && save()">
            <header class="modal-header">
                <h3 class="modal-title">{{Title}}</h3>
            </header>
            <div class="modal-body">
                <ul class="error-list">
                    <li class="alert alert-danger" data-ng-repeat="error in validation_errors">{{error}}</li>
                </ul>
                <div class="form-group">
                    <label for="inputFirstName" class="col-sm-2 control-label">First Name</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="inputFirstName" name="inputFirstName" placeholder="First Name" data-ng-model="user.firstname" required>
                        <div class="text-danger" ng-show="submitted || (userForm.inputFirstName.$dirty && userForm.inputFirstName.$invalid)">
                            <span ng-show="userForm.inputFirstName.$error.required">First name is required.</span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputLastName" class="col-sm-2 control-label">Last Name</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="inputLastName" name="inputLastName" placeholder="Last Name" data-ng-model="user.lastname" required>
                        <div class="text-danger" ng-show="submitted || (userForm.inputLastName.$dirty && userForm.inputLastName.$invalid)">
                            <span ng-show="userForm.inputLastName.$error.required">Last name is required.</span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputEmail" class="col-sm-2 control-label">Email</label>
                    <div class="col-sm-10">
                        <input type="email" class="form-control" id="inputEmail" name="inputEmail" placeholder="Email" data-ng-model="user.email" required>
                        <div class="text-danger" ng-show="submitted || (userForm.inputEmail.$dirty && userForm.inputEmail.$invalid)">
                            <span ng-show="userForm.inputEmail.$error.required">Email address is required.</span>
                            <span ng-show="userForm.inputEmail.$error.email">Invalid email address.</span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputMobile" class="col-sm-2 control-label">Mobile</label>
                    <div class="col-sm-10">
                        <input type="tel" class="form-control" id="inputMobile" name="inputMobile" placeholder="Mobile" data-ng-model="user.mobile" required >
                        <div class="text-danger" ng-show="submitted || (userForm.inputMobile.$dirty && userForm.inputMobile.$invalid)">
                            <span ng-show="userForm.inputMobile.$error.required">Mobile is required.</span>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="inputRole" class="col-sm-2 control-label">Role</label>
                    <div class="col-sm-10">
                        <select id="inputRole" role="inputRole" class="input-medium" data-ng-options="role.bitMask as role.display for role in roles" data-ng-model="user.role" required>
                            <option value="">Choose...</option>
                        </select>
                        <div class="text-danger" ng-show="submitted || (userForm.inputRole.$dirty && userForm.inputRole.$invalid)">
                            <span ng-hide="user.role">Role is required.</span>
                        </div>
                    </div>
                </div>
                <div class="form-group" data-access-level='accessLevels.admin' ng-hide="user.role == adminRole">
                    <label for="inputVenue" class="col-sm-2 control-label">Venue</label>
                    <div class="col-sm-10">
                        <select id="inputVenue" class="input-medium" data-ng-options="venue.id as venue.name for venue in venues" data-ng-model="user.venue_id">
                            <option value="">Choose...</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputPassword" class="col-sm-2 control-label">Password</label>
                    <div class="col-sm-10">
                        <input type="password" class="form-control" id="inputPassword" name="inputPassword" placeholder="Password" data-ng-model="user.password">
                        <div class="text-danger" ng-show="submitted">
                            <span ng-hide="(user.id || user.password)">Password is required.</span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputPasswordConfirmation" class="col-sm-2 control-label">Password Confirmation</label>
                    <div class="col-sm-10">
                        <input type="password" class="form-control" id="inputPasswordConfirmation" name="inputPasswordConfirmation" placeholder="Password" data-ng-model="password_confirmation">
                        <div class="text-danger" ng-show="userForm.inputPasswordConfirmation.$dirty">
                            <span ng-show="user.password != password_confirmation">Password and confirmation does not match.</span>
                        </div>
                    </div>                    
                </div>
            </div>
            <footer class="modal-footer">
                <button class="btn btn-primary" type="submit" ng-click="submitted=true">Save</button>
                <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button>
            </footer>
        </form>
    </section>
</div>
